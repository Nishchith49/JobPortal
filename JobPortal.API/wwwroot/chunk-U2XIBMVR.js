import{b as M,c as O,d as S,f as k,g as D}from"./chunk-JDQVLM36.js";import{Mb as x,Pb as P,Ra as c,Sa as d,ab as g,ba as a,bb as C,fa as i,hb as u,ia as h,na as b,ob as f,vb as v,wa as m,xa as r,ya as s,yb as _}from"./chunk-HTWSWMIO.js";function R(o,e){if(o&1&&(r(0,"a",3)(1,"div",4)(2,"span",5),c(3),s()(),r(4,"div",6)(5,"h3"),c(6),g(7,"titlecase"),s(),r(8,"p"),c(9),s()()()),o&2){let n=e.$implicit;m("routerLink",n.link),a(3),d(n.icon),a(3),d(C(7,4,n.name)),a(3),d(n.count)}}var p=class o{constructor(e,n,t,l,I,y){this._clientCompaniesService=e;this._jobsService=n;this._applicantsService=t;this._coursesService=l;this._enquiriesService=I;this._cdr=y}dashboard=[{name:"client Companies",count:0,icon:"business",link:"/admin/client-companies"},{name:"jobs",count:0,icon:"work_outline",link:"/admin/jobs"},{name:"applicants",count:0,icon:"person_search",link:"/admin/applicants"},{name:"courses",count:0,icon:"school",link:"/admin/courses"},{name:"open enquiries",count:0,icon:"contact_support",link:"/admin/enquiries"}];ngOnInit(){this._clientCompaniesService.apiAdminClientCompaniesGetClientCompaniesPost({}).subscribe(e=>{this.setDashboardCount("client Companies",e.totalRecords??0),this._cdr.detectChanges()}),this._jobsService.apiAdminJobsGetJobsPost({}).subscribe(e=>{this.setDashboardCount("jobs",e.totalRecords??0),this._cdr.detectChanges()}),this._applicantsService.apiAdminApplicantsGetApplicantsPost({}).subscribe(e=>{this.setDashboardCount("applicants",e.totalRecords??0),this._cdr.detectChanges()}),this._coursesService.apiAdminCoursesGetCoursesPost({}).subscribe(e=>{this.setDashboardCount("courses",e.totalRecords??0),this._cdr.detectChanges()}),this._enquiriesService.apiAdminEnquiriesGetEnquiriesPost({}).subscribe(e=>{let n=e.data?.filter(t=>t.isResolved)??[];this.setDashboardCount("open enquiries",n.length),this._cdr.detectChanges()})}setDashboardCount(e,n){let t=this.dashboard.find(l=>l.name===e);t&&(t.count=n)}static \u0275fac=function(n){return new(n||o)(i(O),i(D),i(M),i(S),i(k),i(u))};static \u0275cmp=h({type:o,selectors:[["app-dashboard"]],decls:3,vars:1,consts:[[1,"main-container"],[1,"dashboard-container"],["class","dashboard-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"dashboard-card",3,"routerLink"],[1,"icon-box"],[1,"material-icons"],[1,"text-box"]],template:function(n,t){n&1&&(r(0,"div",0)(1,"div",1),b(2,R,10,6,"a",2),s()()),n&2&&(a(2),m("ngForOf",t.dashboard))},dependencies:[_,f,v,P,x],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f5f5f5}.main-container[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 12px #00000014;box-sizing:border-box}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]{padding:2rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;color:inherit;height:100px;background-color:#d0f0ff;border-radius:12px;padding:1rem;box-shadow:0 4px 12px #00000014;transition:transform .2s ease}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 18px #0000001f}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{margin-right:1rem;background-color:#fff;border-radius:50%;padding:.5rem;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0000001a}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px;color:#1976d2}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#333}.main-container[_ngcontent-%COMP%]   .dashboard-container[_ngcontent-%COMP%]   .dashboard-card[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:700;color:#1a237e}"]})};var z=[{path:"",component:p}];export{z as dashboardRoutes};

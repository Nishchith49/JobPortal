import{a as ge,b as ue,c as be,d as fe}from"./chunk-W4K6XQVD.js";import{a as pe}from"./chunk-H6RMZ57J.js";import{c as A,d as _,e as N,f as V,g as L,h as b,i as z,j as q,k as G,l as B,m as H,n as $,o as U,p as me,q as Y}from"./chunk-Y6IDWSZT.js";import{e as Q,g as k}from"./chunk-JDQVLM36.js";import"./chunk-HJA2ZWVN.js";import{a as I}from"./chunk-BD465OXD.js";import{$a as se,Aa as ie,Ba as re,Da as Z,Fa as h,Ga as d,Jb as E,Lb as R,M as v,Ma as ee,Mb as D,N as M,Pb as j,Ra as r,Sa as m,Ta as P,Ua as ae,Wa as u,Xa as F,Z as oe,ab as ce,ba as a,bb as le,cb as te,fa as p,hb as y,ia as O,na as f,ob as J,pb as S,u as X,wa as c,wb as de,xa as o,ya as n,yb as w,za as C}from"./chunk-HTWSWMIO.js";var ye=["class","component"],Se=()=>["/admin/jobs/view"],we=i=>({jobId:i}),Ee=()=>[10,20,30,50];function De(i,t){if(i&1&&(o(0,"option",9),r(1),n()),i&2){let e=t.$implicit;c("ngValue",e.value),a(),P(" ",e.label)}}function je(i,t){i&1&&(o(0,"div",17),C(1,"app-loading-page"),n())}function Ie(i,t){if(i&1&&(o(0,"div",18),C(1,"app-error-page",19),n()),i&2){let e=d();a(),c("errorData",e.errorData)}}function ke(i,t){if(i&1){let e=Z();o(0,"tr")(1,"td"),r(2),n(),o(3,"td"),r(4),n(),o(5,"td"),r(6),n(),o(7,"td"),r(8),n(),o(9,"td"),r(10),ce(11,"date"),n(),o(12,"td"),r(13),n(),o(14,"td")(15,"label",23)(16,"input",24),h("change",function(){let l=v(e).$implicit,g=d(2);return M(g.enableOrDisableJob(l))}),n(),C(17,"span",25),n()(),o(18,"td")(19,"button",26),h("click",function(){let l=v(e).$implicit,g=d(2);return M(g.editJobDetails(l.id))}),r(20,"Edit"),n(),o(21,"button",27),r(22,"View"),n()()()}if(i&2){let e=t.$implicit,s=t.index;a(2),m(s+1),a(2),m(e.clientCompanyName),a(2),m(e.title),a(2),m(e.location),a(2),m(le(11,9,e.expiryDate)),a(3),m(e.jobType),a(3),c("checked",e.isActive),a(5),c("routerLink",u(11,Se))("queryParams",F(12,we,e.id))}}function Le(i,t){if(i&1&&(o(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th"),r(5,"Sl.No"),n(),o(6,"th"),r(7,"Client Company Name"),n(),o(8,"th"),r(9,"Title"),n(),o(10,"th"),r(11,"Location"),n(),o(12,"th"),r(13,"Expiry Date"),n(),o(14,"th"),r(15,"Job Type"),n(),o(16,"th"),r(17,"Status"),n(),o(18,"th"),r(19,"Actions"),n()()(),o(20,"tbody"),f(21,ke,23,14,"tr",22),n()()()),i&2){let e=d();a(21),c("ngForOf",e.jobs)}}function Te(i,t){if(i&1&&(o(0,"option",33),r(1),n()),i&2){let e=t.$implicit;c("value",e),a(),m(e)}}function Fe(i,t){if(i&1){let e=Z();o(0,"div",28)(1,"div",29)(2,"label"),r(3,"Items per page:"),n(),o(4,"select",30),h("change",function(l){v(e);let g=d();return M(g.onPageSizeChange(l))}),f(5,Te,2,2,"option",31),n(),o(6,"span"),r(7),n(),o(8,"button",32),h("click",function(){v(e);let l=d();return M(l.goToFirstPage())}),r(9,"\xAB"),n(),o(10,"button",32),h("click",function(){v(e);let l=d();return M(l.goToPreviousPage())}),r(11,"\u2039"),n(),o(12,"button",32),h("click",function(){v(e);let l=d();return M(l.goToNextPage())}),r(13,"\u203A"),n(),o(14,"button",32),h("click",function(){v(e);let l=d();return M(l.goToLastPage())}),r(15,"\xBB"),n()()()}if(i&2){let e=d();a(4),c("value",e.pageSize),a(),c("ngForOf",u(9,Ee)),a(2),ae("",e.pageNumber*e.pageSize+1," - ",e.getEndItemIndex()," of ",e.totalRecords),a(),c("disabled",e.pageNumber===0),a(2),c("disabled",e.pageNumber===0),a(2),c("disabled",e.pageNumber+1>=e.totalPages),a(2),c("disabled",e.pageNumber+1>=e.totalPages)}}var K=class i{constructor(t,e,s,l,g,x){this._jobsService=t;this._authService=e;this._dropDownService=s;this._router=l;this._route=g;this._cdr=x}paginatorForm=new L({pageNumber:new b(0),pageSize:new b(10)});filterForm=new L({searchString:new b(null),clientCompanyId:new b(null)});isLoading=!1;isLoadingData=!0;isError=!1;errorData;totalRecords=0;jobs=[];clientCompanyDropDown=[];ngOnInit(){this._route.queryParams.subscribe(t=>{let e=t.clientCompanyId;e&&this.filterForm.patchValue({clientCompanyId:e}),this.getJobsData()}),this.getJobsData(),this.getClientCompanyDropDown(),this.paginatorForm.valueChanges.pipe(X(500)).subscribe(t=>{this.isLoadingData=!0,this.getJobsData()}),this.filterForm.valueChanges.pipe(X(500)).subscribe(t=>{this.isLoadingData=!0,this.getJobsData()})}getClientCompanyDropDown(){this._dropDownService.apiDropDownGetClientCompanyDropdownGet().subscribe({next:t=>{this.clientCompanyDropDown=t,this._cdr.detectChanges()}})}get pageNumber(){return this.paginatorForm.get("pageNumber")?.value??0}get pageSize(){return this.paginatorForm.get("pageSize")?.value??10}get totalPages(){return Math.ceil(this.totalRecords/this.pageSize)}getEndItemIndex(){let t=(this.pageNumber+1)*this.pageSize;return t>this.totalRecords?this.totalRecords:t}goToFirstPage(){this.paginatorForm.patchValue({pageNumber:0})}goToPreviousPage(){this.pageNumber>0&&this.paginatorForm.patchValue({pageNumber:this.pageNumber-1})}goToNextPage(){this.pageNumber+1<this.totalPages&&this.paginatorForm.patchValue({pageNumber:this.pageNumber+1})}goToLastPage(){this.paginatorForm.patchValue({pageNumber:this.totalPages-1})}onPageSizeChange(t){let e=parseInt(t.target.value,10);this.paginatorForm.patchValue({pageSize:e,pageNumber:0})}getJobsData(){let t={pageIndex:this.pageNumber,pageSize:this.pageSize,searchString:this.filterForm.value.searchString||"",clientCompanyId:this.filterForm.value.clientCompanyId||null};this.isError=!1,this.errorData=null,this.isLoadingData=!0,this._jobsService.apiAdminJobsGetJobsPost(t).subscribe({next:e=>{this.isLoadingData=!1,e.statusCode===200&&e.data?(this.jobs=e.data,this.totalRecords=e.totalRecords??0,this._cdr.detectChanges()):(this.isError=!0,this.errorData={imgSrc:"empty-box.png",errorTitleMessage:"No Data available",errorSubTitleMessage:"Please try to add Applicants!"}),this._cdr.detectChanges()},error:e=>{this.isLoadingData=!1,this.jobs=[],navigator.onLine?e.status===401?this._authService.logout():this.setGenericError():this.errorData={imgSrc:"no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your connection."},this.isError=!0,this._cdr.detectChanges()}})}setGenericError(){this.errorData={imgSrc:"error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try again later"}}resetToSearch(){this.filterForm.controls.searchString.reset()}editJobDetails(t){this._router.navigate(["/admin/jobs/edit"],{queryParams:{jobId:t}})}enableOrDisableJob(t){this._jobsService.apiAdminJobsEnableOrDisableJobPut({id:t.id}).subscribe(),this._cdr.detectChanges()}static \u0275fac=function(e){return new(e||i)(p(k),p(I),p(Q),p(R),p(E),p(y))};static \u0275cmp=O({type:i,selectors:[["app-list",8,"component"]],attrs:ye,decls:26,vars:7,consts:[[1,"jobs-container"],[1,"header"],[1,"header-left"],[1,"page-title"],[1,"breadcrumb"],["routerLink","/admin/dashboard"],[1,"separator"],[1,"header-right",3,"formGroup"],["formControlName","clientCompanyId",1,"select-input"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Search...","formControlName","searchString",1,"search-input"],["routerLink","/admin/jobs/add",1,"add-button"],["class","loading-page-ui","fxLayoutAlign","center center",4,"ngIf"],["class","error-page-ui",4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","paginator-wrapper",4,"ngIf"],["fxLayoutAlign","center center",1,"loading-page-ui"],[1,"error-page-ui"],[3,"errorData"],[1,"table-wrapper"],[1,"job-table"],[4,"ngFor","ngForOf"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider"],[1,"edit-button",3,"click"],[1,"edit-button",2,"margin-top","5px",3,"routerLink","queryParams"],[1,"paginator-wrapper"],[1,"pagination-controls"],[3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"click","disabled"],[3,"value"]],template:function(e,s){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r(5,"Jobs"),n()(),o(6,"div",4)(7,"span")(8,"a",5),r(9,"Home"),n()(),o(10,"span",6),r(11,"/"),n(),o(12,"span"),r(13,"Jobs"),n()()(),o(14,"form",7)(15,"select",8)(16,"option",9),r(17,"All Client Companies"),n(),f(18,De,2,2,"option",10),n(),C(19,"input",11),o(20,"button",12),r(21,"Add"),n()()(),f(22,je,2,0,"div",13)(23,Ie,2,1,"div",14)(24,Le,22,1,"div",15)(25,Fe,16,10,"div",16),n()),e&2&&(a(14),c("formGroup",s.filterForm),a(2),c("ngValue",null),a(2),c("ngForOf",s.clientCompanyDropDown),a(4),c("ngIf",s.isLoadingData),a(),c("ngIf",s.isError&&!s.isLoadingData),a(),c("ngIf",!s.isLoadingData&&!s.isError),a(),c("ngIf",s.totalRecords>s.pageSize))},dependencies:[w,J,S,de,j,D,Y,U,z,H,$,A,B,N,V,q,G,me],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f5f5f5}.jobs-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:2rem;background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 12px #00000014;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#222}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{font-size:.95rem;color:#777}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 6px;color:#999}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:1rem}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .select-input[_ngcontent-%COMP%]{height:38px;padding:0 1px;border-radius:6px;border:1px solid #ccc;font-size:.95rem;min-width:200px;background-color:#fff;cursor:pointer;transition:border-color .2s ease}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .select-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff33}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .select-input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{height:38px;padding:0 12px;border-radius:6px;border:1px solid #ccc;font-size:.95rem;width:220px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff33}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{height:38px;padding:0 20px;border-radius:6px;border:none;background-color:#0056d2;color:#fff;font-size:.95rem;cursor:pointer;transition:background-color .2s ease}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover{background-color:#0041a8}.table-wrapper[_ngcontent-%COMP%]{margin-top:2rem;overflow-x:auto}.job-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem;min-width:900px}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .job-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border:1px solid #ddd}.job-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:600;color:#333}.job-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.job-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f7ff}.job-table[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{margin-left:5px;padding:6px 12px;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:.85rem;cursor:pointer;transition:background-color .2s ease}.job-table[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.paginator-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:1rem 0}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:1rem;font-size:.95rem;background-color:#f9f9f9;border:1px solid #ddd;padding:8px 12px;border-radius:8px;box-shadow:0 2px 6px #0000000d}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ccc;font-size:.95rem;min-width:60px;background-color:#fff;cursor:pointer;transition:border-color .2s}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;min-width:120px;text-align:center;color:#444}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;border-radius:6px;border:1px solid #ccc;background-color:#fff;font-weight:700;font-size:.9rem;color:#007bff;cursor:pointer;transition:all .2s}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#007bff;color:#fff;border-color:#007bff}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;color:#aaa;border-color:#ccc}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:18px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;background-color:#a0c4ff;border-radius:34px;inset:0;transition:.3s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:14px;width:14px;left:3px;bottom:2px;background-color:#06f;transition:.3s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#a0c4ff}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}']})};var Je=["class","component"],Re=()=>({name:"clientCompanyId",label:"Client Company"}),Ae=()=>({name:"title",label:"Job Title"}),Ne=()=>({name:"description",label:"Job Description"}),Ve=()=>({name:"location",label:"Location"}),ze=()=>({name:"skillsRequired",label:"Skills Required"}),qe=()=>({name:"experienceRequired",label:"Experience Required (Years)",type:"number"}),Ge=()=>({name:"jobType",label:"Job Type (e.g., Full-time)"}),Be=()=>({name:"salary",label:"Salary (\u20B9)",type:"number"}),He=()=>({name:"expiryDate",label:"Expiry Date",type:"date"}),$e=(i,t,e,s,l,g,x,ne,Pe)=>[i,t,e,s,l,g,x,ne,Pe];function Ue(i,t){if(i&1&&(ie(0),C(1,"input",16),re()),i&2){let e=d(2).$implicit;a(),c("type",e.type||"text")("formControlName",e.name)("id",e.name)}}function Qe(i,t){if(i&1&&(o(0,"div",17)(1,"ngx-editor",18),C(2,"ngx-editor-menu",19)(3,"hr"),n()()),i&2){let e=d(2).$implicit,s=d();a(),c("editor",s.editor)("formControlName",e.name)("placeholder","Enter job description here..."),a(),c("editor",s.editor)("toolbar",s.toolbar)}}function Ye(i,t){if(i&1&&(o(0,"span"),r(1),n()),i&2){let e=d(2).$implicit;a(),P(" ",e.label," is required. ")}}function Ke(i,t){i&1&&(o(0,"span"),r(1," Expiry date must be today or later. "),n())}function We(i,t){if(i&1&&(o(0,"div")(1,"label",13),r(2),o(3,"span",14),r(4,"*"),n()(),f(5,Ue,2,3,"ng-container",12)(6,Qe,4,5,"ng-template",null,1,te)(8,Ye,2,1,"span",15)(9,Ke,2,0,"span",15),n()),i&2){let e,s,l=ee(7),g=d().$implicit,x=d();a(),c("for",g.name),a(),m(g.label),a(3),c("ngIf",g.name!=="description")("ngIfElse",l),a(3),c("ngIf",((e=x.f.get(g.name))==null||e.errors==null?null:e.errors.required)&&((e=x.f.get(g.name))==null?null:e.touched)),a(),c("ngIf",((s=x.f.get("expiryDate"))==null||s.errors==null?null:s.errors.pastDate)&&((s=x.f.get("expiryDate"))==null?null:s.touched))}}function Xe(i,t){if(i&1&&(o(0,"option",23),r(1),n()),i&2){let e=t.$implicit;c("value",e.value),a(),P(" ",e.label)}}function Ze(i,t){if(i&1&&(o(0,"label",13),r(1),o(2,"span",14),r(3,"*"),n()(),o(4,"select",20)(5,"option",21),r(6,"Select Client Company"),n(),f(7,Xe,2,2,"option",22),n()),i&2){let e=d().$implicit,s=d();c("for",e.name),a(),m(e.label),a(3),c("formControlName",e.name),a(3),c("ngForOf",s.clientCompanies)}}function et(i,t){if(i&1&&(o(0,"div",11),f(1,We,10,6,"div",12)(2,Ze,8,4,"ng-template",null,0,te),n()),i&2){let e=t.$implicit,s=ee(3);a(),c("ngIf",e.name!=="clientCompanyId")("ngIfElse",s)}}var T=class i{constructor(t,e,s,l,g,x,ne){this._jobsService=t;this._route=e;this._router=s;this._authenticationService=l;this._snackBar=g;this._dropDownService=x;this._cdr=ne}html="";editor;toolbar=[["bold","italic","underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]];addOrEditJobForm=new L({title:new b("",_.required),description:new b("",_.required),location:new b("",_.required),skillsRequired:new b("",_.required),experienceRequired:new b(0,[_.required,_.min(0)]),jobType:new b("",_.required),salary:new b(0,[_.required,_.min(0)]),expiryDate:new b("",[_.required,t=>new Date(t.value)>=new Date?null:{pastDate:!0}]),clientCompanyId:new b("",_.required)});clientCompanies;get f(){return this.addOrEditJobForm}isLoading=!1;jobId;isLoadingData=!1;isError=!1;errorData;ngOnInit(){this.isLoadingData=!0,this._dropDownService.apiDropDownGetClientCompanyDropdownGet().subscribe({next:t=>{this.isLoading=!1,this.clientCompanies=t,this._cdr.detectChanges()},error:t=>{this.isLoadingData=!1,this.isError=!0,navigator.onLine?t.status==401?this._authenticationService.logout():this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try after sometime!"}:this.errorData={imgSrc:"../../../../../assets/images/icons/no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your internet connection!"}}}),this.editor=new fe,this.jobId=this._route.snapshot.queryParamMap.get("jobId"),this.jobId&&(this.isLoadingData=!0,this._jobsService.apiAdminJobsGetJobGet(this.jobId).subscribe({next:t=>{if(this.isLoadingData=!1,t.statusCode===200&&t.data){let e=t.data;if(e.expiryDate){let l=new Date(e.expiryDate).toISOString().split("T")[0];e.expiryDate=l}this.addOrEditJobForm.patchValue(e)}else this.isError=!0,this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try after sometime!"}},error:t=>{this.isLoadingData=!1,this.isError=!0,navigator.onLine?t.status==401?this._authenticationService.logout():this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try after sometime!"}:this.errorData={imgSrc:"../../../../../assets/images/icons/no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your internet connection!"}}}))}ngOnDestroy(){this.editor.destroy()}onSubmit(){if(this.jobId)if(this.addOrEditJobForm.valid){let t={title:this.f.get("title")?.value??"",description:this.f.get("description")?.value??"",location:this.f.get("location")?.value??"",skillsRequired:this.f.get("skillsRequired")?.value??"",experienceRequired:this.f.get("experienceRequired")?.value??0,jobType:this.f.get("jobType")?.value??"",salary:this.f.get("salary")?.value??0,expiryDate:this.f.get("expiryDate")?.value??"",clientCompanyId:this.f.get("clientCompanyId")?.value??"",id:this.jobId??""};this.isLoading=!0,this.addOrEditJobForm.disable(),this._jobsService.apiAdminJobsUpdateJobPut(t).subscribe({next:e=>{this.isLoading=!1,this.addOrEditJobForm.enable(),localStorage.removeItem("userData"),e.statusCode===200?(this._router.navigateByUrl("/admin/jobs/list"),this._snackBar.open(e.message??"Job updated successfully","Close",{duration:3e3,panelClass:["snack-success"]})):this._snackBar.open(e.message??"Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]})},error:e=>{this.isLoading=!1,this.addOrEditJobForm.enable(),navigator.onLine?this._snackBar.open("Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]}):e.status==401?this._authenticationService.logout():this._snackBar.open("Internet Connection Lost, Please check your connectivity","Close",{duration:3e3,panelClass:["snack-error"]})}})}else{this._snackBar.open("Please enter job details","Close",{duration:3e3,panelClass:["snack-error"]}),this.addOrEditJobForm.markAllAsTouched();return}else if(this.addOrEditJobForm.valid){let t={title:this.f.get("title")?.value??"",description:this.f.get("description")?.value??"",location:this.f.get("location")?.value??"",skillsRequired:this.f.get("skillsRequired")?.value??"",experienceRequired:this.f.get("experienceRequired")?.value??0,jobType:this.f.get("jobType")?.value??"",salary:this.f.get("salary")?.value??0,expiryDate:this.f.get("expiryDate")?.value??"",clientCompanyId:this.f.get("clientCompanyId")?.value??""};this.isLoading=!0,this.addOrEditJobForm.disable(),this._jobsService.apiAdminJobsAddJobPost(t).subscribe({next:e=>{this.isLoading=!1,this.addOrEditJobForm.enable(),localStorage.removeItem("userData"),e.statusCode===200?(this._router.navigateByUrl("/admin/clientCompanies/list"),this._snackBar.open(e.message??"Client Company created successfully","Close",{duration:3e3,panelClass:["snack-success"]})):this._snackBar.open(e.message??"Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]})},error:e=>{this.isLoading=!1,this.addOrEditJobForm.enable(),navigator.onLine?this._snackBar.open("Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]}):e.status==401?this._authenticationService.logout():this._snackBar.open("Internet Connection Lost, Please check your connectivity","Close",{duration:3e3,panelClass:["snack-error"]})}})}else{this._snackBar.open("Please enter job details","Close",{duration:3e3,panelClass:["snack-error"]}),this.addOrEditJobForm.markAllAsTouched();return}}static \u0275fac=function(e){return new(e||i)(p(k),p(E),p(R),p(I),p(pe),p(Q),p(y))};static \u0275cmp=O({type:i,selectors:[["app-add-or-edit",8,"component"]],attrs:Je,decls:21,vars:23,consts:[["clientCompanyDropDown",""],["richTextEditor",""],[1,"job-form"],[1,"title"],[1,"breadcrumb"],["routerLink","/admin/dashboard"],["routerLink","/admin/jobs/list"],[1,"form"],[3,"ngSubmit","formGroup"],["class","form-group",4,"ngFor","ngForOf"],["type","submit"],[1,"form-group"],[4,"ngIf","ngIfElse"],[3,"for"],[1,"text-warn"],[4,"ngIf"],[1,"form-control",3,"type","formControlName","id"],[1,"editor-wrapper"],[1,"editor",3,"editor","formControlName","placeholder"],[3,"editor","toolbar"],[3,"formControlName"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,s){e&1&&(o(0,"div",2)(1,"h2",3),r(2),n(),o(3,"div",4)(4,"span")(5,"a",5),r(6,"Home"),n()(),o(7,"span"),r(8,"/"),n(),o(9,"span")(10,"a",6),r(11,"Jobs"),n()(),o(12,"span"),r(13,"/"),n(),o(14,"span"),r(15),n()(),o(16,"div",7)(17,"form",8),h("ngSubmit",function(){return s.onSubmit()}),f(18,et,4,2,"div",9),o(19,"button",10),r(20,"Submit"),n()()()()),e&2&&(a(2),P("",s.jobId?"Edit":"Add"," Job"),a(13),P("",s.jobId?"Edit":"Add"," Job"),a(2),c("formGroup",s.addOrEditJobForm),a(),c("ngForOf",se(13,$e,[u(4,Re),u(5,Ae),u(6,Ne),u(7,Ve),u(8,ze),u(9,qe),u(10,Ge),u(11,Be),u(12,He)])))},dependencies:[U,z,H,$,A,B,N,V,q,G,w,J,S,j,D,be,ge,ue],styles:[`html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;font-family:Arial,sans-serif;background:#f5f5f5}.job-form[_ngcontent-%COMP%]{padding:2rem;background:#f5f5f5;border-radius:8px;box-shadow:0 2px 10px #0000001a;box-sizing:border-box}.job-form[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;color:#333}.job-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{font-size:.95rem;color:#666;margin-bottom:20px}.job-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.job-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.job-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px;color:#999}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;margin-bottom:5px;font-weight:500;color:#333}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .text-warn[_ngcontent-%COMP%]{color:red;margin-left:4px}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;font-size:.95rem;border-radius:4px;border:1px solid #ccc;transition:border-color .2s ease-in-out}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:5px;font-size:.85rem;color:red}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px 30px 8px 10px;font-size:.95rem;border-radius:4px;border:1px solid #ccc;transition:border-color .2s ease-in-out;background-color:#fff;color:#333;appearance:none;background-image:url("data:image/svg+xml;charset=US-ASCII,%3Csvg width='10' height='7' viewBox='0 0 10 7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%23333' stroke-width='1.5' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;background-size:10px}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;padding:6px 14px;font-size:.95rem;border-radius:4px;border:none;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .2s ease}.job-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}`]})};var tt=()=>["/admin/applicants/list"],nt=i=>({jobId:i});function ot(i,t){i&1&&(o(0,"div",8),C(1,"app-loading-page"),n())}function it(i,t){if(i&1&&(o(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"span",13),r(5,"Job Title:"),n(),o(6,"span",14),r(7),n()(),o(8,"div",12)(9,"span",13),r(10,"Experience:"),n(),o(11,"span",14),r(12),n()()(),o(13,"div",15)(14,"div",12)(15,"span",13),r(16,"Location:"),n(),o(17,"span",14),r(18),n()(),o(19,"div",12)(20,"span",13),r(21,"Education:"),n(),o(22,"span",14),r(23),n()()()(),o(24,"div",16)(25,"h3"),r(26,"Job Description:"),n(),C(27,"p",17),n()()),i&2){let e=d();a(7),m(e.job.title),a(5),m(e.job.experienceRequired),a(6),m(e.job.location),a(5),m(e.job.education||"Not specified"),a(4),c("innerHTML",e.job.description,oe)}}var W=class i{constructor(t,e,s,l){this._jobsService=t;this._route=e;this._authenticationService=s;this._cdr=l}isLoadingData=!0;isError=!1;errorData;jobId=null;job;ngOnInit(){this.jobId=this._route.snapshot.queryParamMap.get("jobId"),this.jobId?this._jobsService.apiAdminJobsGetJobGet(this.jobId).subscribe({next:t=>{this.isLoadingData=!1,t.statusCode===200&&t.data?this.job=t.data:this.setGenericError(),this._cdr.detectChanges()},error:t=>{this.isLoadingData=!1,this.isError=!0,navigator.onLine?t.status===401?this._authenticationService.logout():this.setGenericError():this.errorData={imgSrc:"../../../../../assets/images/icons/no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your internet connection!"}}}):(this.isLoadingData=!1,this.setGenericError("Invalid Job ID provided."))}setGenericError(t="Please try after sometime!"){this.isError=!0,this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:t}}static \u0275fac=function(e){return new(e||i)(p(k),p(E),p(I),p(y))};static \u0275cmp=O({type:i,selectors:[["app-view"]],decls:11,vars:7,consts:[[1,"container"],[1,"header"],[1,"header-left"],[1,"page-title"],[1,"header-right"],[1,"view-button",3,"routerLink","queryParams"],["class","loading-page-ui","fxLayoutAlign","center center",4,"ngIf"],["class","job-details",4,"ngIf"],["fxLayoutAlign","center center",1,"loading-page-ui"],[1,"job-details"],[1,"summary-box"],[1,"left-column"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"right-column"],[1,"description-box"],[3,"innerHTML"]],template:function(e,s){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),r(5,"Job Details"),n()()(),o(6,"div",4)(7,"button",5),r(8,"View Applicants"),n()()(),f(9,ot,2,0,"div",6)(10,it,28,5,"div",7),n()),e&2&&(a(7),c("routerLink",u(4,tt))("queryParams",F(5,nt,s.job==null?null:s.job.id)),a(2),c("ngIf",s.isLoadingData),a(),c("ngIf",!s.isLoadingData&&s.job&&!s.isError))},dependencies:[w,S,Y,j,D],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f5f5f5}.container[_ngcontent-%COMP%]{width:100%;height:100%;padding:2rem;background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 12px #00000014;box-sizing:border-box}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin-bottom:1rem}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#222}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]{margin-top:-10px;height:38px;padding:0 15px;border-radius:6px;border:none;background-color:#0056d2;color:#fff;font-size:.95rem;cursor:pointer;transition:background-color .2s ease}.container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%]:hover{background-color:#0041a8}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:2rem;background-color:#fff;padding:1.5rem;border-radius:10px;box-shadow:0 2px 6px #0000000d;margin-bottom:1.5rem}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{margin-bottom:1rem}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem;color:#333}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .left-column[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .right-column[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem;display:block;color:#555}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .description-box[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;border-radius:10px;box-shadow:0 2px 6px #0000000d}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .description-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;font-size:1.2rem;color:#333}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .description-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .description-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1.5;font-size:1.1rem;color:#555}.container[_ngcontent-%COMP%]   .job-details[_ngcontent-%COMP%]   .description-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;margin-bottom:1rem}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#d32f2f}.container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}"]})};var kt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:K},{path:"add",component:T},{path:"edit",component:T},{path:"view",component:W}];export{kt as JobsRoutes};

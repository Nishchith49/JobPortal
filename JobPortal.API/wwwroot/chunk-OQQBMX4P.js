import{a as se}from"./chunk-H6RMZ57J.js";import{c as V,d as v,e as z,f as G,g as D,h as u,i as B,j as U,k as $,l as J,m as H,n as q,o as Q,p as de,q as me}from"./chunk-Y6IDWSZT.js";import{b as K,e as W}from"./chunk-JDQVLM36.js";import"./chunk-HJA2ZWVN.js";import{a as Y}from"./chunk-BD465OXD.js";import{Aa as O,Ba as w,Da as E,Fa as _,Ga as s,Jb as T,Lb as N,M as C,Ma as te,Mb as R,N as b,Pb as j,Ra as o,Sa as h,Ta as M,Ua as ne,Wa as x,_ as ee,_a as ie,ab as oe,ba as a,bb as re,cb as ae,fa as m,hb as I,ia as y,na as f,ob as k,pb as F,qb as le,rb as pe,u as Z,wa as p,wb as ce,xa as i,ya as t,yb as L,za as S}from"./chunk-HTWSWMIO.js";var ve=["class","component"],xe=()=>[10,20,30,50];function Pe(r,n){if(r&1&&(i(0,"option",9),o(1),t()),r&2){let e=n.$implicit;p("ngValue",e.value),a(),M(" ",e.label)}}function Me(r,n){if(r&1&&(i(0,"option",9),o(1),t()),r&2){let e=n.$implicit;p("ngValue",e.id),a(),M(" ",e.jobTitle)}}function Se(r,n){r&1&&(i(0,"div",18),S(1,"app-loading-page"),t())}function Oe(r,n){if(r&1&&(i(0,"div",19),S(1,"app-error-page",20),t()),r&2){let e=s();a(),p("errorData",e.errorData)}}function we(r,n){if(r&1){let e=E();O(0),i(1,"button",29),_("click",function(){C(e);let c=s().$implicit,d=s(2);return b(d.updateApplicantStatus(c.id,2))}),o(2,"Shortlist"),t(),i(3,"button",30),_("click",function(){C(e);let c=s().$implicit,d=s(2);return b(d.updateApplicantStatus(c.id,3))}),o(4,"Reject"),t(),w()}}function Ee(r,n){if(r&1){let e=E();O(0),i(1,"button",29),_("click",function(){C(e);let c=s().$implicit,d=s(2);return b(d.updateApplicantStatus(c.id,4))}),o(2,"Hire"),t(),i(3,"button",30),_("click",function(){C(e);let c=s().$implicit,d=s(2);return b(d.updateApplicantStatus(c.id,3))}),o(4,"Reject"),t(),w()}}function De(r,n){r&1&&(O(0),i(1,"span",31),o(2,"Rejected"),t(),w())}function Ae(r,n){r&1&&(O(0),i(1,"span",32),o(2,"Hired"),t(),w())}function ye(r,n){if(r&1){let e=E();i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),t(),i(5,"td"),o(6),t(),i(7,"td"),o(8),t(),i(9,"td"),o(10),t(),i(11,"td"),o(12),t(),i(13,"td"),o(14),oe(15,"date"),t(),i(16,"td")(17,"a",24),o(18,"View Resume"),t()(),i(19,"td")(20,"div",25),O(21,26)(22,26),f(23,we,5,0,"ng-container",27)(24,Ee,5,0,"ng-container",27)(25,De,3,0,"ng-container",27)(26,Ae,3,0,"ng-container",27),w()(),t()(),i(27,"td")(28,"button",28),_("click",function(){let c=C(e).$implicit,d=s(2);return b(d.editApplicantDetails(c.id))}),o(29,"Edit"),t()()()}if(r&2){let e=n.$implicit,l=n.index;a(2),h(l+1),a(2),h(e.clientCompanyName),a(2),h(e.jobTitle),a(2),h(e.fullName),a(2),h(e.email),a(2),h(e.phone),a(2),h(re(15,14,e.appliedDate)),a(3),p("href",e.resumeUrl,ee),a(4),p("ngSwitch",e.status),a(),p("ngSwitch",e.status),a(),p("ngSwitchCase",1),a(),p("ngSwitchCase",2),a(),p("ngSwitchCase",3),a(),p("ngSwitchCase",4)}}function Ie(r,n){if(r&1&&(i(0,"div",21)(1,"table",22)(2,"thead")(3,"tr")(4,"th"),o(5,"Sl.No"),t(),i(6,"th"),o(7,"Client Company Name"),t(),i(8,"th"),o(9,"Job Title"),t(),i(10,"th"),o(11,"Name"),t(),i(12,"th"),o(13,"Email"),t(),i(14,"th"),o(15,"Phone Number"),t(),i(16,"th"),o(17,"Applied Date"),t(),i(18,"th"),o(19,"Resume"),t(),i(20,"th"),o(21,"Status"),t(),i(22,"th"),o(23,"Actions"),t()()(),i(24,"tbody"),f(25,ye,30,16,"tr",23),t()()()),r&2){let e=s();a(25),p("ngForOf",e.applicants)}}function ke(r,n){if(r&1&&(i(0,"option",38),o(1),t()),r&2){let e=n.$implicit;p("value",e),a(),h(e)}}function Fe(r,n){if(r&1){let e=E();i(0,"div",33)(1,"div",34)(2,"label"),o(3,"Items per page:"),t(),i(4,"select",35),_("change",function(c){C(e);let d=s();return b(d.onPageSizeChange(c))}),f(5,ke,2,2,"option",36),t(),i(6,"span"),o(7),t(),i(8,"button",37),_("click",function(){C(e);let c=s();return b(c.goToFirstPage())}),o(9,"\xAB"),t(),i(10,"button",37),_("click",function(){C(e);let c=s();return b(c.goToPreviousPage())}),o(11,"\u2039"),t(),i(12,"button",37),_("click",function(){C(e);let c=s();return b(c.goToNextPage())}),o(13,"\u203A"),t(),i(14,"button",37),_("click",function(){C(e);let c=s();return b(c.goToLastPage())}),o(15,"\xBB"),t()()()}if(r&2){let e=s();a(4),p("value",e.pageSize),a(),p("ngForOf",x(9,xe)),a(2),ne("",e.pageNumber*e.pageSize+1," - ",e.getEndItemIndex()," of ",e.totalRecords),a(),p("disabled",e.pageNumber===0),a(2),p("disabled",e.pageNumber===0),a(2),p("disabled",e.pageNumber+1>=e.totalPages),a(2),p("disabled",e.pageNumber+1>=e.totalPages)}}var X=class r{constructor(n,e,l,c,d,g){this._applicantsService=n;this._authService=e;this._dropDownService=l;this._router=c;this._route=d;this._cdr=g}paginatorForm=new D({pageNumber:new u(0),pageSize:new u(10)});filterForm=new D({searchString:new u(null),clientCompanyId:new u(null),jobId:new u(null)});applicantStatusList=[{id:1,name:"Applied"},{id:2,name:"Shortlisted"},{id:3,name:"Rejected"},{id:4,name:"Hired"}];isLoading=!1;isLoadingData=!0;isError=!1;errorData;totalRecords=0;applicants=[];clientCompanyDropDown=[];jobDropDown=[];ngOnInit(){this._route.queryParams.subscribe(n=>{let e=n.jobId;e&&this.filterForm.patchValue({jobId:e}),this.getApplicantsData()}),this.getClientCompanyDropDown(),this.getJobDropDown(),this.paginatorForm.valueChanges.pipe(Z(500)).subscribe(n=>{this.isLoadingData=!0,this.getApplicantsData()}),this.filterForm.valueChanges.pipe(Z(500)).subscribe(n=>{this.isLoadingData=!0,this.getApplicantsData()})}getClientCompanyDropDown(){this._dropDownService.apiDropDownGetClientCompanyDropdownGet().subscribe({next:n=>{this.clientCompanyDropDown=n,this._cdr.detectChanges()}})}getJobDropDown(){this._dropDownService.apiDropDownGetJobDropDownGet().subscribe({next:n=>{this.jobDropDown=n,this._cdr.detectChanges()}})}get pageNumber(){return this.paginatorForm.get("pageNumber")?.value??0}get pageSize(){return this.paginatorForm.get("pageSize")?.value??10}get totalPages(){return Math.ceil(this.totalRecords/this.pageSize)}getEndItemIndex(){let n=(this.pageNumber+1)*this.pageSize;return n>this.totalRecords?this.totalRecords:n}goToFirstPage(){this.paginatorForm.patchValue({pageNumber:0})}goToPreviousPage(){this.pageNumber>0&&this.paginatorForm.patchValue({pageNumber:this.pageNumber-1})}goToNextPage(){this.pageNumber+1<this.totalPages&&this.paginatorForm.patchValue({pageNumber:this.pageNumber+1})}goToLastPage(){this.paginatorForm.patchValue({pageNumber:this.totalPages-1})}onPageSizeChange(n){let e=parseInt(n.target.value,10);this.paginatorForm.patchValue({pageSize:e,pageNumber:0})}getApplicantsData(){let n={pageIndex:this.pageNumber,pageSize:this.pageSize,searchString:this.filterForm.value.searchString||"",clientCompanyId:this.filterForm.value.clientCompanyId||null,jobId:this.filterForm.value.jobId||null};this.isError=!1,this.errorData=null,this.isLoadingData=!0,this._applicantsService.apiAdminApplicantsGetApplicantsPost(n).subscribe({next:e=>{this.isLoadingData=!1,e.statusCode===200&&e.data?(this.applicants=e.data,this.totalRecords=e.totalRecords??0,this._cdr.detectChanges()):(this.isError=!0,this.isError=!0,this.errorData={imgSrc:"empty-box.png",errorTitleMessage:"No Data available",errorSubTitleMessage:"Please try to add Applicants!"}),this._cdr.detectChanges()},error:e=>{this.isLoadingData=!1,this.applicants=[],navigator.onLine?e.status===401?this._authService.logout():this.setGenericError():this.errorData={imgSrc:"no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your connection."},this.isError=!0,this._cdr.detectChanges()}})}setGenericError(){this.errorData={imgSrc:"error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try again later"}}resetToSearch(){this.filterForm.controls.searchString.reset()}updateApplicantStatus(n,e){let l={id:n,status:e};this.isLoadingData=!0,this._applicantsService.apiAdminApplicantsUpdateApplicantStatusPut(l).subscribe({next:c=>{this.isLoadingData=!1,c.statusCode===200?this.getApplicantsData():this.setGenericError(),this._cdr.detectChanges()},error:c=>{this.isLoadingData=!1,this.applicants=[],navigator.onLine?c.status===401?this._authService.logout():this.setGenericError():this.errorData={imgSrc:"no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your connection."},this.isError=!0,this._cdr.detectChanges()}})}editApplicantDetails(n){this._router.navigate(["/admin/applicants/edit"],{queryParams:{applicantId:n}})}static \u0275fac=function(e){return new(e||r)(m(K),m(Y),m(W),m(N),m(T),m(I))};static \u0275cmp=y({type:r,selectors:[["app-list",8,"component"]],attrs:ve,decls:30,vars:9,consts:[[1,"applicants-container"],[1,"header"],[1,"header-left"],[1,"page-title"],[1,"breadcrumb"],["routerLink","/admin/dashboard"],[1,"separator"],[1,"header-right",3,"formGroup"],["formControlName","clientCompanyId",1,"select-input"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","jobId",1,"select-input"],["type","text","placeholder","Search...","formControlName","searchString",1,"search-input"],["routerLink","/admin/applicants/add",1,"add-button"],["class","loading-page-ui",4,"ngIf"],["class","error-page-ui",4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","paginator-wrapper",4,"ngIf"],[1,"loading-page-ui"],[1,"error-page-ui"],[3,"errorData"],[1,"table-wrapper"],[1,"applicant-table"],[4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"status-buttons"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"edit-button",3,"click"],[2,"background-color","green",3,"click"],[2,"margin-top","5px","background-color","red",3,"click"],[1,"rejected"],[1,"hired"],[1,"paginator-wrapper"],[1,"pagination-controls"],[3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"click","disabled"],[3,"value"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),o(5,"Applicants"),t()(),i(6,"div",4)(7,"span")(8,"a",5),o(9,"Home"),t()(),i(10,"span",6),o(11,"/"),t(),i(12,"span"),o(13,"Applicants"),t()()(),i(14,"form",7)(15,"select",8)(16,"option",9),o(17,"All Client Companies"),t(),f(18,Pe,2,2,"option",10),t(),i(19,"select",11)(20,"option",9),o(21,"All Jobs"),t(),f(22,Me,2,2,"option",10),t(),S(23,"input",12),i(24,"button",13),o(25,"Add"),t()()(),f(26,Se,2,0,"div",14)(27,Oe,2,1,"div",15)(28,Ie,26,1,"div",16)(29,Fe,16,10,"div",17),t()),e&2&&(a(14),p("formGroup",l.filterForm),a(2),p("ngValue",null),a(2),p("ngForOf",l.clientCompanyDropDown),a(2),p("ngValue",null),a(2),p("ngForOf",l.jobDropDown),a(4),p("ngIf",l.isLoadingData&&!l.isError),a(),p("ngIf",l.isError&&!l.isLoadingData),a(),p("ngIf",!l.isLoadingData&&!l.isError),a(),p("ngIf",l.totalRecords>l.pageSize))},dependencies:[L,k,F,le,pe,ce,j,R,me,Q,B,H,q,V,J,z,G,U,$,de],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f5f5f5}.applicants-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:2rem;background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 12px #00000014;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;color:#222}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{font-size:.95rem;color:#777}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 6px;color:#999}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:1rem}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .select-input[_ngcontent-%COMP%]{height:38px;padding:0 1px;border-radius:6px;border:1px solid #ccc;font-size:.95rem;min-width:200px;background-color:#fff;cursor:pointer;transition:border-color .2s ease}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .select-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff33}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .select-input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{height:38px;padding:0 12px;border-radius:6px;border:1px solid #ccc;font-size:.95rem;width:220px;transition:all .2s ease}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff33}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{height:38px;padding:0 20px;border-radius:6px;border:none;background-color:#0056d2;color:#fff;font-size:.95rem;cursor:pointer;transition:background-color .2s ease}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover{background-color:#0041a8}.table-wrapper[_ngcontent-%COMP%]{margin-top:2rem;overflow-x:auto}.applicant-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem;min-width:900px}.applicant-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .applicant-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border:1px solid #ddd}.applicant-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:600;color:#333}.applicant-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.applicant-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f7ff}.applicant-table[_ngcontent-%COMP%]   .status-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;margin-left:5px;border:none;border-radius:4px;color:#fff;font-size:.85rem;cursor:pointer;transition:background-color .2s ease}.applicant-table[_ngcontent-%COMP%]   .status-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.applicant-table[_ngcontent-%COMP%]   .status-buttons[_ngcontent-%COMP%]   .rejected[_ngcontent-%COMP%]{color:red;font-weight:700;margin-left:5px}.applicant-table[_ngcontent-%COMP%]   .status-buttons[_ngcontent-%COMP%]   .hired[_ngcontent-%COMP%]{color:green;font-weight:700;margin-left:5px}.applicant-table[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:.85rem;cursor:pointer;transition:background-color .2s ease}.applicant-table[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.paginator-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:1rem 0}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:1rem;font-size:.95rem;background-color:#f9f9f9;border:1px solid #ddd;padding:8px 12px;border-radius:8px;box-shadow:0 2px 6px #0000000d}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 10px;border-radius:6px;border:1px solid #ccc;font-size:.95rem;min-width:60px;background-color:#fff;cursor:pointer;transition:border-color .2s}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;min-width:120px;text-align:center;color:#444}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;border-radius:6px;border:1px solid #ccc;background-color:#fff;font-weight:700;font-size:.9rem;color:#007bff;cursor:pointer;transition:all .2s}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#007bff;color:#fff;border-color:#007bff}.paginator-wrapper[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;color:#aaa;border-color:#ccc}"]})};var Le=["class","component"],Te=()=>({name:"jobId",label:"Job"}),Ne=()=>({name:"fullName",label:"Full Name"}),Re=()=>({name:"email",label:"Email",type:"email"}),je=()=>({name:"phone",label:"Phone Number",type:"number"}),Ve=()=>({name:"resumeUrl",label:"Resume URL"}),ze=()=>({name:"skills",label:"Skills"}),Ge=()=>({name:"experience",label:"Experience (Years)",type:"number"}),Be=(r,n,e,l,c,d,g)=>[r,n,e,l,c,d,g];function Ue(r,n){if(r&1&&(i(0,"span"),o(1),t()),r&2){let e=s(2).$implicit;a(),M(" ",e.label," is required. ")}}function $e(r,n){r&1&&(i(0,"span"),o(1," Enter a valid email address. "),t())}function Je(r,n){r&1&&(i(0,"span"),o(1," Enter a valid 10-digit phone number. "),t())}function He(r,n){r&1&&(i(0,"span"),o(1," Experience must be 0 or more. "),t())}function qe(r,n){if(r&1&&(i(0,"div")(1,"label",12),o(2),i(3,"span",13),o(4,"*"),t()(),S(5,"input",14),f(6,Ue,2,1,"span",15)(7,$e,2,0,"span",15)(8,Je,2,0,"span",15)(9,He,2,0,"span",15),t()),r&2){let e,l,c,d,g=s().$implicit,P=s();a(),p("for",g.name),a(),h(g.label),a(3),p("type",g.type||"text")("formControlName",g.name)("id",g.name),a(),p("ngIf",((e=P.f.get(g.name))==null||e.errors==null?null:e.errors.required)&&((e=P.f.get(g.name))==null?null:e.touched)),a(),p("ngIf",g.name==="email"&&((l=P.f.get("email"))==null||l.errors==null?null:l.errors.email)&&((l=P.f.get("email"))==null?null:l.touched)),a(),p("ngIf",g.name==="phone"&&((c=P.f.get("phone"))==null||c.errors==null?null:c.errors.pattern)&&((c=P.f.get("phone"))==null?null:c.touched)),a(),p("ngIf",g.name==="experience"&&((d=P.f.get("experience"))==null||d.errors==null?null:d.errors.min)&&((d=P.f.get("experience"))==null?null:d.touched))}}function Qe(r,n){if(r&1&&(i(0,"option",19),o(1),t()),r&2){let e=n.$implicit;p("value",e.id),a(),M(" ",e.jobTitle)}}function Ye(r,n){if(r&1&&(i(0,"label",12),o(1),i(2,"span",13),o(3,"*"),t()(),i(4,"select",16)(5,"option",17),o(6,"Select Job"),t(),f(7,Qe,2,2,"option",18),t()),r&2){let e=s().$implicit,l=s();p("for",e.name),a(),h(e.label),a(3),p("formControlName",e.name),a(3),p("ngForOf",l.jobs)}}function Ke(r,n){if(r&1&&(i(0,"div",10),f(1,qe,10,9,"div",11)(2,Ye,8,4,"ng-template",null,0,ae),t()),r&2){let e=n.$implicit,l=te(3);a(),p("ngIf",e.name!=="jobId")("ngIfElse",l)}}var A=class r{constructor(n,e,l,c,d,g,P){this._applicantsService=n;this._route=e;this._router=l;this._authenticationService=c;this._dropDownService=d;this._cdr=g;this._snackBar=P}addOrEditApplicantForm=new D({fullName:new u("",v.required),email:new u("",[v.required,v.email]),phone:new u("",[v.required,v.pattern(/^[0-9]{10}$/)]),resumeUrl:new u("",v.required),skills:new u("",v.required),experience:new u(0,[v.required,v.min(0)]),jobId:new u("",v.required)});jobs=[];get f(){return this.addOrEditApplicantForm}isLoading=!1;applicantId;isLoadingData=!1;isError=!1;errorData;ngOnInit(){this.isLoadingData=!0,this._dropDownService.apiDropDownGetJobDropDownGet().subscribe({next:n=>{this.isLoadingData=!1,this.jobs=n,this._cdr.detectChanges()},error:n=>{this.isLoadingData=!1,this.isError=!0,navigator.onLine?n.status==401?this._authenticationService.logout():this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try after sometime!"}:this.errorData={imgSrc:"../../../../../assets/images/icons/no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your internet connection!"}}}),this.applicantId=this._route.snapshot.queryParamMap.get("applicantId"),this.applicantId&&(this.isLoadingData=!0,this._applicantsService.apiAdminApplicantsGetApplicantGet(this.applicantId).subscribe({next:n=>{this.isLoadingData=!1,n.statusCode===200&&n.data?this.addOrEditApplicantForm.patchValue(n.data):(this.isError=!0,this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try after sometime!"})},error:n=>{this.isLoadingData=!1,this.isError=!0,navigator.onLine?n.status==401?this._authenticationService.logout():this.errorData={imgSrc:"../../../../../assets/images/icons/error.png",errorTitleMessage:"Something went wrong",errorSubTitleMessage:"Please try after sometime!"}:this.errorData={imgSrc:"../../../../../assets/images/icons/no-signal.png",errorTitleMessage:"Internet connection lost",errorSubTitleMessage:"Please check your internet connection!"}}}))}onSubmit(){if(this.applicantId)if(this.addOrEditApplicantForm.valid){let n={fullName:this.f.get("fullName")?.value??"",email:this.f.get("email")?.value??"",phone:this.f.get("phone")?.value??"",resumeUrl:this.f.get("resumeUrl")?.value??"",skills:this.f.get("skills")?.value??"",experience:this.f.get("experience")?.value??0,jobId:this.f.get("jobId")?.value??"",id:this.applicantId??""};this.isLoading=!0,this.addOrEditApplicantForm.disable(),this._applicantsService.apiAdminApplicantsUpdateApplicantPut(n).subscribe({next:e=>{this.isLoading=!1,this.addOrEditApplicantForm.enable(),localStorage.removeItem("userData"),e.statusCode===200?(this._router.navigateByUrl("/admin/applicants/list"),this._snackBar.open(e.message??"Applicant updated successfully","Close",{duration:3e3,panelClass:["snack-success"]})):this._snackBar.open(e.message??"Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]})},error:e=>{this.isLoading=!1,this.addOrEditApplicantForm.enable(),navigator.onLine?this._snackBar.open("Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]}):e.status==401?this._authenticationService.logout():this._snackBar.open("Internet Connection Lost, Please check your connectivity","Close",{duration:3e3,panelClass:["snack-error"]})}})}else{this._snackBar.open("Please enter applicant details","Close",{duration:3e3,panelClass:["snack-error"]}),this.addOrEditApplicantForm.markAllAsTouched();return}else if(this.addOrEditApplicantForm.valid){let n={fullName:this.f.get("fullName")?.value??"",email:this.f.get("email")?.value??"",phone:this.f.get("phone")?.value??"",resumeUrl:this.f.get("resumeUrl")?.value??"",skills:this.f.get("skills")?.value??"",experience:this.f.get("experience")?.value??0,jobId:this.f.get("jobId")?.value??""};this.isLoading=!0,this.addOrEditApplicantForm.disable(),this._applicantsService.apiAdminApplicantsAddApplicantPost(n).subscribe({next:e=>{this.isLoading=!1,this.addOrEditApplicantForm.enable(),localStorage.removeItem("userData"),e.statusCode===200?(this._router.navigateByUrl("/admin/applicants/list"),this._snackBar.open(e.message??"Applicant created successfully","Close",{duration:3e3,panelClass:["snack-success"]})):this._snackBar.open(e.message??"Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]})},error:e=>{this.isLoading=!1,this.addOrEditApplicantForm.enable(),navigator.onLine?this._snackBar.open("Something went wrong, Please try after sometime","Close",{duration:3e3,panelClass:["snack-error"]}):e.status==401?this._authenticationService.logout():this._snackBar.open("Internet Connection Lost, Please check your connectivity","Close",{duration:3e3,panelClass:["snack-error"]})}})}else{this._snackBar.open("Please enter applicant details","Close",{duration:3e3,panelClass:["snack-error"]}),this.addOrEditApplicantForm.markAllAsTouched();return}}static \u0275fac=function(e){return new(e||r)(m(K),m(T),m(N),m(Y),m(W),m(I),m(se))};static \u0275cmp=y({type:r,selectors:[["app-add-or-edit",8,"component"]],attrs:Le,decls:21,vars:19,consts:[["jobDropDown",""],[1,"applicant-form"],[1,"title"],[1,"breadcrumb"],["routerLink","/admin/dashboard"],["routerLink","/admin/applicants/list"],[1,"form"],[3,"ngSubmit","formGroup"],["class","form-group",4,"ngFor","ngForOf"],["type","submit"],[1,"form-group"],[4,"ngIf","ngIfElse"],[3,"for"],[1,"text-warn"],[1,"form-control",3,"type","formControlName","id"],[4,"ngIf"],[3,"formControlName"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,l){e&1&&(i(0,"div",1)(1,"h2",2),o(2),t(),i(3,"div",3)(4,"span")(5,"a",4),o(6,"Home"),t()(),i(7,"span"),o(8,"/"),t(),i(9,"span")(10,"a",5),o(11,"Applicants"),t()(),i(12,"span"),o(13,"/"),t(),i(14,"span"),o(15),t()(),i(16,"div",6)(17,"form",7),_("ngSubmit",function(){return l.onSubmit()}),f(18,Ke,4,2,"div",8),i(19,"button",9),o(20,"Submit"),t()()()()),e&2&&(a(2),M("",l.applicantId?"Edit":"Add"," Applicant"),a(13),M("",l.applicantId?"Edit":"Add"," Applicant"),a(2),p("formGroup",l.addOrEditApplicantForm),a(),p("ngForOf",ie(11,Be,x(4,Te),x(5,Ne),x(6,Re),x(7,je),x(8,Ve),x(9,ze),x(10,Ge))))},dependencies:[Q,B,H,q,V,J,z,G,U,$,L,k,F,j,R],styles:[`html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;font-family:Arial,sans-serif;background:#f5f5f5}.applicant-form[_ngcontent-%COMP%]{padding:2rem;background:#f5f5f5;border-radius:8px;box-shadow:0 2px 10px #0000001a;box-sizing:border-box}.applicant-form[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;color:#333}.applicant-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{font-size:.95rem;color:#666;margin-bottom:20px}.applicant-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.applicant-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.applicant-form[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px;color:#999}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;margin-bottom:5px;font-weight:500;color:#333}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .text-warn[_ngcontent-%COMP%]{color:red;margin-left:4px}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 10px;font-size:.95rem;border-radius:4px;border:1px solid #ccc;transition:border-color .2s ease-in-out}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:5px;font-size:.85rem;color:red}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px 30px 8px 10px;font-size:.95rem;border-radius:4px;border:1px solid #ccc;transition:border-color .2s ease-in-out;background-color:#fff;color:#333;appearance:none;background-image:url("data:image/svg+xml;charset=US-ASCII,%3Csvg width='10' height='7' viewBox='0 0 10 7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%23333' stroke-width='1.5' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;background-size:10px}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;padding:6px 14px;font-size:.95rem;border-radius:4px;border:none;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .2s ease}.applicant-form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}`]})};var _t=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:X},{path:"add",component:A},{path:"edit",component:A}];export{_t as ApplicantsRoutes};
